<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    @font-face {
      font-family: fatemeh;
      src: url(font/Aclonica-Regular.ttf);
    }

    *,
    *::before,
    *::after {
      padding: 0;
      margin: 0;
      box-sizing: border-box;
    }

    body {
      height: 100vh;
      background: rgb(255, 255, 255);
      font-family: fatemeh;
      overflow: hidden;
    }

    h1 {
      color: rgb(59, 95, 62);
      text-align: center;
      font-size: 100px;
      margin-top: 20px;
    }

    .row {
      width: 100%;
      padding-inline: 3%;
      display: flex;
      justify-content: space-evenly;
      align-items: start;

      >.time {
        width: 30%;
        height: 50px;
        font-size: 18px;
        padding: 1%;
        margin-bottom: 1%;
        border-radius: 10px;
        border: none;
        outline: 1px solid rgb(59, 95, 62);
        color: rgb(59, 95, 62);
      }

      >.row {
        width: 40%;
        display: flex;
        justify-content: space-evenly;
        align-items: center;

        >#search {
          width: 90%;
          height: 50px;
          font-size: 18px;
          border-radius: 50px;
          padding: 3%;
          border: none;
          outline: 1px solid rgb(59, 95, 62);
        }

        >button {
          width: 25px;
          height: 25px;
          border-radius: 50%;
          background-color: transparent;
          border: none;
          cursor: pointer;
        }
      }

      >img {
        animation: walk 10s linear infinite;
        width: 60px;

      }
    }

    @keyframes walk {
      0% {
        transform: translateX(120px) scaleX(-1);
      }

      49% {
        transform: translateX(-150px) scaleX(-1);
      }

      50% {
        transform: translateX(-150px) scaleX(1);
      }

      99% {
        transform: translateX(120px) scaleX(1);
      }

      100% {
        transform: translateX(120px) scaleX(-1);
      }

    }

    main {
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      margin-inline: 3%;
      height: 65%;
      padding: 1%;
      border-radius: 30px;
      box-shadow: 0 0 50px 1px rgb(73, 126, 78);

      >* {
        width: 50%;
        margin: 1%;
        height: 100%;
        border-radius: 30px;
        padding: 2%;
      }

      >.tasks {
        background-color: rgb(87, 142, 92);

        >h3 {
          text-align: center;
          color: white;
          font-size: 22px;
        }

        >.row {
          display: flex;
          justify-content: space-evenly;
          align-items: center;

          >input {
            margin: 20px auto;
            display: flex;
            width: 85%;
            border-radius: 10px;
            border: none;
            outline: none;
            height: 40px;
            padding: 2%;
            font-size: 16px;
          }

          >button {
            width: 5%;
            height: 40px;
            cursor: pointer;
            border-radius: 10px;
            border: none;
            outline: none;
          }
        }
      }

      #list {
        width: 100%;
        height: 100%;
        padding: 1%;
        display: flex;
        flex-wrap: wrap;
        height: 100%;
        justify-content: start;
        gap: 40px;
        align-content: start;
        /* border: 1px solid black; */

        >li {
          width: 45%;
          /* color: white; */
          list-style-type: none;
          /* background-color: blue; */
          /* border: 1px solid rgb(110, 110, 110); */
          display: flex;
          align-items: center;
          justify-content: space-between;
          font-size: 14px;
          transition: 1s;

          >h2 {
            font-size: 14px;
            flex: 1;
            min-width: 0;
            word-break: break-all;
            padding: 2%;
            margin-right: 2%;
            border-radius: 10px;
          }

          >div {
            /* border: 1px solid black; */
            display: flex;
            gap: 5px;
            flex-shrink: 0;

            >span {
              cursor: pointer;
            }
          }

        }
      }




      >.compelete {
        border: 1px solid rgb(87, 142, 92);

        >h3 {
          color: rgb(87, 142, 92);
          text-align: center;
          font-size: 20px;
        }

        li {
          text-decoration: line-through;
          width: 45%;
          color: rgb(59, 95, 62);
          list-style-type: none;
          font-size: 14px;
        }
      }
    }


    .left {
      transform: translateX(-1000px);
    }

    .hide {
      display: none;
    }
  </style>
</head>

<body>
  <h1>To Do List</h1>
  <div class="row">
    <div class="row">
      <input type="text" id="search" placeholder="Search">
      <button onclick="_search(this)"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
          stroke-width="1.5" stroke="rgb(59, 95, 62)" class="size-3">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
        </svg>
      </button>
    </div>
    <img width="50" height="50" src="icons8-cat-50.png" alt="cat" />
    <input class="time" type="datetime-local">
  </div>

  <main>
    <div class="tasks">
      <h3>Tasks</h3>
      <div class="row">
        <input type="text" placeholder="Your Task">
        <button onclick="_add(this)">‚ûï</button>
      </div>

      <ul id="list">
      </ul>

    </div>

    <div class="compelete">
      <h3>Completed</h3>
      <ul>
      </ul>

    </div>

  </main>
</body>
<script>

  function _add(s) {
    let temp = s.previousElementSibling.value
    if (temp == '') {
      alert("Write something down")
    } else {
      let li = document.createElement('li')
      li.innerHTML = `
     <h2>${temp}</h2>
    <div>
     <span onclick="_edit(this)">üìù</span>
     <span onclick="_delete(this)">‚ùå</span>
     <span onclick='_compelete(this)'>üçå</span>
     <input class="hide" type="text">
     </div>
   `

      document.querySelector('#list').appendChild(li)
      s.previousElementSibling.value = null
      s.previousElementSibling.focus()
    }

  }

  function _delete(s) {
    if (confirm('Are you sure you want to delete this task?')) {
      s.parentElement.parentElement.classList.add('left')
      setTimeout(() => {
        s.parentElement.parentElement.remove()
      }, 1000);
    }
  }

  let flag = 1
  function _edit(s) {
    if (flag % 2) {
      s.parentElement.previousElementSibling.setAttribute('contenteditable', true)
      //  s.parentElement.children[3].classList.remove('hide')
      s.innerText = '‚úÖ'
      s.parentElement.previousElementSibling.style.backgroundColor = 'white'
      // s.parentElement.previousElementSibling.focus()
      //  s.parentElement.children[3].value = s.parentElement.previousElementSibling.innerText
    } else {
      s.innerText = 'üìù'
      s.parentElement.previousElementSibling.removeAttribute('contenteditable')
      s.parentElement.previousElementSibling.style.backgroundColor = 'rgb(87, 142, 92)'
    }
    flag++
  }
  function _search(s) {
    const h2 = document.querySelectorAll('main h2')
    let temp = s.previousElementSibling.value
    for (let i = 0; i < h2.length; i++) {
      console.log(h2[i].innerText);
      if (h2[i].innerText.indexOf(temp) == -1) {
        h2[i].parentElement.style.display = 'none'

      } else {
        h2[i].parentElement.style.display = 'flex'
      }
    }
  }

  function _compelete(s) {
    let cloneLi = s.parentElement.parentElement
    s.parentElement.parentElement.remove()
    let compLi = document.querySelector('.compelete ul')
    cloneLi.querySelector('div').remove()
    compLi.appendChild(cloneLi)
  }
</script>

</html>